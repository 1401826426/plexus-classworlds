<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src\site\xdoc/launcher.xml at 2018-12-30
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="bob mcwhirter" />
    <meta name="Date-Revision-yyyymmdd" content="20181230" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Plexus Classworlds &#x2013; App Launching</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Plexus Classworlds</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
      <li class=""><a href="../" title="Plexus">Plexus</a><span class="divider">/</span></li>
      <li class=""><a href="index.html" title="Plexus Classworlds">Plexus Classworlds</a><span class="divider">/</span></li>
    <li class="active ">App Launching <a href="http://github.com/codehaus-plexus/plexus-classworlds/tree/plexus-classworlds-2.6.0/src\site\xdoc/launcher.xml"><img src="./images/accessories-text-editor.png" title="Edit" /></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2018-12-30</li>
          <li id="projectVersion" class="pull-right">Version: 2.6.0</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li class="active"><a href="#"><span class="none"></span>Launcher</a></li>
    <li><a href="apiusage.html" title="API Usage"><span class="none"></span>API Usage</a></li>
    <li><a href="apidocs/index.html" title="JavaDocs"><span class="none"></span>JavaDocs</a></li>
    <li><a href="xref/index.html" title="Source Xref"><span class="none"></span>Source Xref</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
      <li class="nav-header">Plexus Projects</li>
    <li><a href="../modello/" title="Modello"><span class="none"></span>Modello</a></li>
    <li><a href="../plexus-classworlds/" title="Plexus Classworlds"><span class="none"></span>Plexus Classworlds</a></li>
    <li><a href="" title="Plexus Components"><span class="icon-chevron-down"></span>Plexus Components</a>
    <ul class="nav nav-list">
    <li><a href="../plexus-archiver/" title="Plexus Archiver"><span class="none"></span>Plexus Archiver</a></li>
    <li><a href="../plexus-cli/" title="Plexus CLI"><span class="none"></span>Plexus CLI</a></li>
    <li><a href="../plexus-compiler/" title="Plexus Compiler"><span class="none"></span>Plexus Compiler</a></li>
    <li><a href="../plexus-digest/" title="Plexus Digest"><span class="none"></span>Plexus Digest</a></li>
    <li><a href="../plexus-i18n/" title="Plexus i18n"><span class="none"></span>Plexus i18n</a></li>
    <li><a href="../plexus-interactivity/" title="Plexus Interactivity"><span class="none"></span>Plexus Interactivity</a></li>
    <li><a href="../plexus-interpolation/" title="Plexus Interpolation"><span class="none"></span>Plexus Interpolation</a></li>
    <li><a href="../plexus-io/" title="Plexus IO"><span class="none"></span>Plexus IO</a></li>
    <li><a href="../plexus-languages/" title="Plexus Languages"><span class="none"></span>Plexus Languages</a></li>
    <li><a href="../plexus-resources/" title="Plexus Resources"><span class="none"></span>Plexus Resources</a></li>
    <li><a href="../plexus-swizzle/" title="Plexus Swizzle"><span class="none"></span>Plexus Swizzle</a></li>
    <li><a href="../plexus-velocity/" title="Plexus Velocity"><span class="none"></span>Plexus Velocity</a></li>
    </ul>
</li>
    <li><a href="" title="Plexus Parent POMs"><span class="icon-chevron-down"></span>Plexus Parent POMs</a>
    <ul class="nav nav-list">
    <li><a href="../plexus-pom/" title="Plexus"><span class="none"></span>Plexus</a></li>
    <li><a href="../plexus-components/" title="Plexus Components"><span class="none"></span>Plexus Components</a></li>
    </ul>
</li>
    <li><a href="../plexus-utils/" title="Plexus Utils"><span class="none"></span>Plexus Utils</a></li>
</ul>
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="http://codehaus-plexus.github.io/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript">asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
          <hr />
          <div id="poweredBy">
    <script type="text/javascript">asyncJs( 'https://apis.google.com/js/plusone.js' )</script>
    <div class="g-plusone" data-href="http://codehaus-plexus.github.io/plexus-classworlds/" data-size="tall" ></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >


  

  <div class="section">
<h2><a name="Launcher_Introduction"></a>Launcher Introduction</h2>

    
<div class="section">
<h3><a name="Purpose"></a>Purpose</h3> 

      
<p>
      In order to reduce the number of classloading projects,
      <b>Plexus Classworlds</b> replaces forehead
      for application launching.  
      </p>

      
<p>
      The main problems to solve in application launching include
      locating all of application's JARs, configuring the initial
      classloaders, and invoking the <tt>main</tt> entry method.
      </p>

      
<p>
      The <a href="apidocs/index.html?org/codehaus/plexus/classworlds/launcher/package-summary.html">launcher facilities</a>
      of <b>Classworlds</b> simplify
      the process of locating application jars.  A common idiom is
      to have a script which starts the JVM with only the 
      <tt>plexus-classworlds.jar</tt> in the classpath and a system
      property to specify the location of a launcher configuration.
      Additionally, typically a property specifying the application installation
      location is passed on the command-line.
      </p>


<div class="source"><pre class="prettyprint linenums">
$JAVA_HOME/bin/java \
    -classpath $APP_HOME/boot/plexus-classworlds-2.5.2.jar \
    -Dclassworlds.conf=$APP_HOME/etc/classworlds.conf \
    -Dapp.home=$APP_HOME \
    org.codehaus.plexus.classworlds.launcher.Launcher \
    $*
</pre></div>

    </div>

  </div>

  
<div class="section">
<h2><a name="Configuration"></a>Configuration</h2>

    
<div class="section">
<h3><a name="Entry_Point_Definition"></a>Entry Point Definition</h3>

      
<p>
      The entry-point class and realm must be specified
      using the <tt>main is</tt> directive before
      specifying realm definitions. 
      </p>


<div class="source"><pre class="prettyprint linenums">
main is com.werken.projectz.Server from app
</pre></div>

    </div>

    
<div class="section">
<h3><a name="System_Properties_Definition"></a>System Properties Definition</h3>

      
<p>
      System properties can be set before and after the entry point, but before realms:
      </p>


<div class="source"><pre class="prettyprint linenums">
set &lt;property&gt; [[using &lt;properties filename&gt;]] [[default &lt;default value&gt;]]
</pre></div>

    </div>

    
<div class="section">
<h3><a name="Realm_Definitions"></a>Realm Definitions</h3>

      
<p>
      At least one <b>Classworlds</b> realm must be defined
      within the configuration file.  The syntax for starting a
      realm definition is <tt>[realm.name]</tt>.  All lines
      following the realm header are considered directives for 
      that realm.  The realm definition continues either until
      another realm is defined or until the end of the file is
      reached.  
      </p>


<div class="source"><pre class="prettyprint linenums">
[realm.one]
    ...
    ...
[realm.two]
    ...
    ...
[realm.three]
    ...
    ...
</pre></div>

      
<p>
      Within a realm definition, three directives are available:
      <tt>load</tt>, <tt>optionally</tt> and <tt>import</tt>.  
      </p>

      
<p>
      The <tt>load</tt> and <tt>optionally</tt>
      directives specify a class source to be used for loading
      classes in the realm: the only difference is that in case of absent source,
      <tt>load</tt> fails but <tt>optionally</tt> does not.
      Any loaded source that contain a star (<tt>*</tt>) in the file name is
      replaced by the list of files that match the filename prefix and suffix.
      System properties may be referred to using <tt>${propname}</tt> notation.
      The <tt>load</tt> and <tt>optionally</tt> directives are equivalent to the
      <tt>addURL(..)</tt> method of <tt>ClassRealm</tt>.
      </p>


<div class="source"><pre class="prettyprint linenums">
[app]
    load ${app.home}/lib/*.jar
    optionally ${app.home}/lib/ext/*.jar
    load ${tools.jar}
</pre></div>

      
<p>
      The <tt>import</tt> directive specifies that certain
      packages should be imported and loaded by way of another
      realm.  The <tt>import</tt> directive is equivalent
      to the <tt>importFrom(..)</tt> method of
      <tt>ClassRealm</tt>.
      </p>


<div class="source"><pre class="prettyprint linenums">
[app]
    ...
  
[subcomponent]
    import com.werken.projectz.Foo from app
    ...
</pre></div>

    </div>

    
<div class="section">
<h3><a name="Entry_point_methods"></a>Entry point methods</h3>

      
<p>
      <b>Classworlds</b> can be used to invoke any existing
      application's <tt>main()</tt> method.  Using the standard
      entry point does not allow for gaining access to the 
      <tt>ClassWorld</tt> of the application, but not all 
      applications will need it at run-time.
      </p>

      
<p>
      For those applications that do require the <tt>ClassWorld</tt>
      instance, an alternative entry-point method signature can be
      provided.  Simply add a <tt>ClassWorld</tt> parameter to 
      the standard <tt>main</tt> parameter list.
      </p>


<div class="source"><pre class="prettyprint linenums">
public class MyApp
{
    public static void main( String[] args, ClassWorld world )
    {
        ...     
    }
}
</pre></div>

    </div>

  </div>

  


        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2002&#x2013;2018
<a href="http://codehaus-plexus.github.io/">Codehaus Plexus</a>.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>